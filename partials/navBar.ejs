<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top scrolling-navbar">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">
      <img src="./../static/logo.png" alt="" height="40px" style="filter: invert(1);">
      <span class="logoname">
        Pupils' Hub
      </span></a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <div style="display: flex; justify-content: space-between;">
        <div>

          <ul class="navbar-nav ml-auto myNavBar">

            <li class="nav-item">
              <a class="nav-link active" style="margin-top: 8px; margin-left: 10px;" aria-current="page"
                href="/#home">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" style="margin-top: 8px; margin-left: 10px;" aria-current="page"
                href="/#rooms">Hostels</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" style="margin-top: 8px; margin-left: 10px;" aria-current="page"
                href="/#benefits">Benefits</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" style="margin-top: 8px; margin-left: 10px;" aria-current="page"
                href="/#feedback">Reviews</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active " style="margin-top: 8px; margin-left: 10px;" aria-current="page"
                href="/#contactus">Contact Us</a>
            </li>
            <li class="nav-item"><a class="nav-link active" aria-current="page" href="/sDashboard"><button type="button"
                  class="btn btn-light" style=" margin-left: 10px;">Dashboard</button></a>
            </li>
            <li class="nav-item"><a class="nav-link active" aria-current="page" href="/login"><button type="button"
                  class="btn btn-light" style=" margin-left: 10px;" id="loginButton">Log In</button></a>
            </li>
            <li class="nav-item"><a class="nav-link active" aria-current="page"><button type="button"
                  class="btn btn-light" style=" margin-left: 10px;" id="logoutButton">Log Out</button></a>
            </li>

          </ul>

        </div>

      </div>

    </div>
  </div>
</nav>

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  const loginButton = document.getElementById("loginButton");

  const logoutButton = document.getElementById("logoutButton");

  logoutButton.addEventListener("click", function () {
    Swal.fire({
      title: 'Log Out',
      text: "Are you sure you want to log out?",
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#3085d6',
      cancelButtonColor: '#d33',
      confirmButtonText: 'Yes, log out!'
    }).then((result) => {
      if (result.isConfirmed) {
        Swal.fire(
          'Logout Successful',
          'You have successfully logged out of your account.',
          'success'
        )
        location.href = "/logout";
      }
    })
  })



  // check whether user is logged in or not :
  const isAuthenticated = fetch("/users/me").then((res) => {
    return res.json();
  }).then((user) => {
    // console.log({isLogged: 1});
    loginButton.hidden = true;
    logoutButton.hidden = false;

  }).catch((error) => {
    // console.log({isLogged: 0});
    loginButton.hidden = false;
    logoutButton.hidden = true;
  });


</script>